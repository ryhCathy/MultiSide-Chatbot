{"ast":null,"code":"export default {\n  name: \"message_com\",\n  computed: {\n    current_session() {\n      return this.$store.state.current_session;\n    },\n    user() {\n      return this.$store.state.user;\n    }\n  },\n  methods: {\n    timeFormat(date) {\n      if (typeof date === \"string\") {\n        date = new Date(date);\n      }\n      return date.getHours() + \":\" + date.getMinutes();\n    }\n  },\n  updated() {\n    this.$nextTick(() => {\n      var container = this.$refs.el;\n      container.scrollTop = container.scrollHeight;\n    });\n  },\n  mounted() {\n    this.$socket.onReceiveMessage(result => {\n      // get from the backgound\n      //console.log(result) //  {message, from}\n      const sid = result['from'];\n      const message = result['message'];\n      //console.log(sid, message) \n      this.$store.commit(\"RECEIVE_MESSAGE\", {\n        \"sid\": sid,\n        \"content\": message\n      });\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}