{"ast":null,"code":"import { io } from \"socket.io-client\";\nclass Socket {\n  constructor() {\n    if (process.env.NODE_ENV == \"production\") {\n      this.server_host = window.location.origin;\n    } else {\n      this.server_host = \"http://127.0.0.1:5000\";\n    }\n    this.socket = io(this.server_host);\n  }\n  connect() {\n    this.socket.connect();\n  }\n  emitLogin(username, callback) {\n    this.socket.emit(\"login\", {\n      username: username\n    }, result => {\n      if (callback) {\n        callback(result);\n      }\n    });\n  }\n  onFriendOnline(callback) {\n    this.socket.on(\"friend online\", result => {\n      if (callback) {\n        callback(result);\n      }\n    });\n  }\n  onFriendOffline(callback) {\n    this.socket.on(\"friend offline\", result => {\n      if (callback) {\n        callback(result);\n      }\n    });\n  }\n  emitSendMessage(data, callback) {\n    this.socket.emit(\"send message\", {\n      \"to\": data['to'],\n      \"message\": data['message']\n    }, result => {\n      if (callback) {\n        callback(result);\n      }\n    });\n  }\n  onReceiveMessage(callback) {\n    this.socket.on(\"receive message\", result => {\n      if (callback) {\n        callback(result);\n      }\n    });\n  }\n  get connected() {\n    return this.socket.connected;\n  }\n}\nexport default new Socket();","map":{"version":3,"names":["io","Socket","constructor","process","env","NODE_ENV","server_host","window","location","origin","socket","connect","emitLogin","username","callback","emit","result","onFriendOnline","on","onFriendOffline","emitSendMessage","data","onReceiveMessage","connected"],"sources":["/Users/byc324/PycharmProjects/chat-client/src/utils/socket.js"],"sourcesContent":["import { io } from \"socket.io-client\";\r\n\r\nclass Socket {\r\n  constructor() {\r\n    if(process.env.NODE_ENV == \"production\"){\r\n      this.server_host = window.location.origin\r\n    }else{\r\n      this.server_host = \"http://127.0.0.1:5000\";\r\n    }\r\n    this.socket = io(this.server_host);\r\n  }\r\n\r\n  connect() {\r\n    this.socket.connect();\r\n  }\r\n\r\n  emitLogin(username, callback) {\r\n    this.socket.emit(\"login\", { username: username }, (result) => {\r\n      if (callback) {\r\n        callback(result);\r\n      }\r\n    });\r\n  }\r\n\r\n  onFriendOnline(callback){\r\n\t\tthis.socket.on(\"friend online\", (result) => {\r\n\t\t\tif(callback){\r\n\t\t\t\tcallback(result)\r\n\t\t\t}\r\n\t\t})\r\n  }\r\n\r\n  onFriendOffline(callback){\r\n    this.socket.on(\"friend offline\", (result) => {\r\n      if(callback){\r\n        callback(result)\r\n      }\r\n    })\r\n  }\r\n\r\n  emitSendMessage(data, callback){\r\n    this.socket.emit(\"send message\", {\"to\": data['to'], \"message\": data['message']}, (result) => {\r\n      if(callback){\r\n        callback(result);\r\n      }\r\n    })\r\n  }\r\n\r\n  onReceiveMessage(callback){\r\n    this.socket.on(\"receive message\", (result) => {\r\n      if(callback){\r\n        callback(result);\r\n      }\r\n    })\r\n  }\r\n\r\n  get connected() {\r\n    return this.socket.connected;\r\n  }\r\n}\r\n\r\nexport default new Socket();\r\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,MAAM,CAAC;EACXC,WAAWA,CAAA,EAAG;IACZ,IAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,IAAI,YAAY,EAAC;MACtC,IAAI,CAACC,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM;IAC3C,CAAC,MAAI;MACH,IAAI,CAACH,WAAW,GAAG,uBAAuB;IAC5C;IACA,IAAI,CAACI,MAAM,GAAGV,EAAE,CAAC,IAAI,CAACM,WAAW,CAAC;EACpC;EAEAK,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,MAAM,CAACC,OAAO,CAAC,CAAC;EACvB;EAEAC,SAASA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAC5B,IAAI,CAACJ,MAAM,CAACK,IAAI,CAAC,OAAO,EAAE;MAAEF,QAAQ,EAAEA;IAAS,CAAC,EAAGG,MAAM,IAAK;MAC5D,IAAIF,QAAQ,EAAE;QACZA,QAAQ,CAACE,MAAM,CAAC;MAClB;IACF,CAAC,CAAC;EACJ;EAEAC,cAAcA,CAACH,QAAQ,EAAC;IACxB,IAAI,CAACJ,MAAM,CAACQ,EAAE,CAAC,eAAe,EAAGF,MAAM,IAAK;MAC3C,IAAGF,QAAQ,EAAC;QACXA,QAAQ,CAACE,MAAM,CAAC;MACjB;IACD,CAAC,CAAC;EACF;EAEAG,eAAeA,CAACL,QAAQ,EAAC;IACvB,IAAI,CAACJ,MAAM,CAACQ,EAAE,CAAC,gBAAgB,EAAGF,MAAM,IAAK;MAC3C,IAAGF,QAAQ,EAAC;QACVA,QAAQ,CAACE,MAAM,CAAC;MAClB;IACF,CAAC,CAAC;EACJ;EAEAI,eAAeA,CAACC,IAAI,EAAEP,QAAQ,EAAC;IAC7B,IAAI,CAACJ,MAAM,CAACK,IAAI,CAAC,cAAc,EAAE;MAAC,IAAI,EAAEM,IAAI,CAAC,IAAI,CAAC;MAAE,SAAS,EAAEA,IAAI,CAAC,SAAS;IAAC,CAAC,EAAGL,MAAM,IAAK;MAC3F,IAAGF,QAAQ,EAAC;QACVA,QAAQ,CAACE,MAAM,CAAC;MAClB;IACF,CAAC,CAAC;EACJ;EAEAM,gBAAgBA,CAACR,QAAQ,EAAC;IACxB,IAAI,CAACJ,MAAM,CAACQ,EAAE,CAAC,iBAAiB,EAAGF,MAAM,IAAK;MAC5C,IAAGF,QAAQ,EAAC;QACVA,QAAQ,CAACE,MAAM,CAAC;MAClB;IACF,CAAC,CAAC;EACJ;EAEA,IAAIO,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAACb,MAAM,CAACa,SAAS;EAC9B;AACF;AAEA,eAAe,IAAItB,MAAM,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}